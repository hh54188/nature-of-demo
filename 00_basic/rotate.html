<!DOCTYPE html>
<html>
<head>
	<title>Rotate的用法</title>
	<script type="text/javascript" src="/js/lib/p5.min.js"></script>
	<script type="text/javascript" src="/js/lib/victor.js"></script>
	<script type="text/javascript" src="/js/lib/math.js"></script>
	
	<script type="text/javascript" src="/js/victor-util.js"></script>
</head>
<body>
	<script type="text/javascript">
		
		var canvasWidth = 800;
		var canvasHeight = 600;
		var ellipseRadius= 10;	

		function setup () {
			createCanvas(canvasWidth, canvasHeight);
			background('gray');

			translate(canvasWidth / 2, canvasHeight / 2);
			rectMode(CENTER);

			ellipse(-200, -200, 50, 50);

			fill('orange');
			rect(0, 0, 100, 10);
			fill('black');			
			rect(50, 0, 10, 10);
		}

		function draw () {

		}

		// function mouseClicked () {
		function mouseMoved () {
			// 为什么是错的：
			// var angle = atan2(mouseY, mouseX);
			
			// 为什么要像下面这样相减：？
			var transformY = mouseY - canvasHeight / 2;
			var transformX = mouseX - canvasWidth / 2;
			var angle = atan2(transformY, transformX);
			background('gray');

			ellipse(-200, -200, 50, 50);

			// push();

			rotate(angle);
			fill('orange');
			rect(0, 0, 100, 10);
			fill('black');			
			rect(50, 0, 10, 10);

			// pop();
		}

	</script>
</body>
</html>